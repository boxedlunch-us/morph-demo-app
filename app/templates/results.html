{% extends "layout.html" %}
{% block body %}
<div class="container">
	<div class="row">
		<div class="form_bg">
			<p>{{ word }}</p>
			<p>{{ user_ip }}</p>
			<div id="map" style="width: 500px; height: 500px;"></div>
		</div>
	</div>
</div>
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCe5Fw4YJAz6svqBlt7Ixgd-dUg27gnqCc&callback=initMap" >
 </script>
 <script>
      function initMap() {
        var middle = {lat: {{ spot[0] }}, lng: {{ spot[1] }}};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: middle
        });
        {% for other in others %}
        var {{ other.wordage + other.ip_address.replace('.', '') }} = {lat: {{ other.latitude }}, lng: {{ other.longitude }}};
        var marker = new google.maps.Marker({
          position: {{ other.wordage + other.ip_address.replace('.', '') }},
          map: map
        });
        {% endfor %}
      }
 </script>

{% endblock %}